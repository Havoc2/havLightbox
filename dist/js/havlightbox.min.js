/*!
 * havLightbox v0.1 (https://www.havocspage.net)
 * Copyright 2024 RenÃ© Nicolaus
 * Licensed under MIT (https://github.com/Havoc2/havLightbox/blob/main/LICENSE)
 */
document.addEventListener("DOMContentLoaded",(e=>{function t(){var e=document.querySelector(".havlightbox"),t=e.querySelector(".havlightbox-image-container img"),l=e.querySelector(".havlightbox-caption"),n=e.querySelector(".havlightbox-image-counter");e.classList.remove("open");var o=e.querySelector(".havlightbox-prev-button"),i=e.querySelector(".havlightbox-next-button");o.style.display="none",i.style.display="none",l.innerText="",n.innerText="",setTimeout((()=>{t.src="",e.style.display="none"}),500)}function l(e,t){var l=e.querySelector(".havlightbox-prev-button"),n=e.querySelector(".havlightbox-next-button");t.length<2?(l.style.display="none",n.style.display="none"):(l.style.display="block",n.style.display="block")}function n(e){document.querySelectorAll(".havlightbox-thumbnail-selection-item").forEach(((t,l)=>{l===e?t.classList.add("selected"):t.classList.remove("selected")}))}document.querySelectorAll(".havlightbox-gallery").forEach((e=>{e.querySelectorAll(".havlightbox-thumbnail").forEach((o=>{o.addEventListener("click",(()=>{!function(e,o){if(e){var i=new URL(o,window.location.href).href,r=document.querySelector(".havlightbox"),a=r.querySelector(".havlightbox-image-container"),c=a.querySelector("img"),h=r.querySelector(".havlightbox-caption"),s=r.querySelector(".havlightbox-image-counter"),d=r.querySelector(".havlightbox-thumbnail-selection");if(r&&a&&c&&h&&s&&d){var u=[],y=[],v=0;if(e.querySelectorAll(".havlightbox-thumbnail").forEach((e=>{u.push(new URL(e.dataset.havlightboxImage,window.location.href).href),y.push(e.getAttribute("alt"))})),-1!==(v=u.indexOf(i))){r.style.display="block",c.src=i,h.innerText=y[v],s.innerText=v+1+" / "+u.length,d.innerHTML="",u.forEach(((e,t)=>{var l=document.createElement("img");l.src=e,l.alt=t+1,l.classList.add("havlightbox-thumbnail-selection-item"),t===v&&l.classList.add("selected"),l.addEventListener("click",(()=>{var e=Array.from(l.parentNode.children).indexOf(l);e!==v&&(v=e,document.querySelectorAll(".havlightbox-thumbnail-selection-item").forEach((e=>{e.classList.remove("selected")})),l.classList.add("selected"),c.src=u[v],h.innerText=y[v],s.innerText=v+1+" / "+u.length)})),d.appendChild(l)})),r.addEventListener("click",(e=>{e.target===r&&t()})),setTimeout((()=>{r.classList.add("open")}),50);var g=r.querySelector(".havlightbox-prev-button"),b=r.querySelector(".havlightbox-next-button");g.addEventListener("click",(()=>{--v<0&&(v=u.length-1),c.src=u[v],h.innerText=y[v],s.innerText=v+1+" / "+u.length,n(v),l(r,u)})),b.addEventListener("click",(()=>{++v>=u.length&&(v=0),c.src=u[v],h.innerText=y[v],s.innerText=v+1+" / "+u.length,n(v),l(r,u)})),function(e,t){var l=e.querySelector(".havlightbox-image-counter");t.length<2?l.style.display="none":l.style.display="block"}(r,u),function(e,t){var l=e.querySelector(".havlightbox-thumbnail-selection");t.length<2?l.style.display="none":l.style.display="flex"}(r,u),l(r,u)}}}}(e,o.dataset.havlightboxImage)}))}))})),document.addEventListener("keydown",(e=>{"Escape"===e.key&&t()})),document.querySelector(".havlightbox-close").addEventListener("click",t)}));