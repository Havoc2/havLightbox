/*!
 * havLightbox v0.1 (https://www.havocspage.net)
 * Copyright 2024 RenÃ© Nicolaus
 * Licensed under MIT (https://github.com/Havoc2/havLightbox/blob/main/LICENSE)
 */
document.addEventListener("DOMContentLoaded",(e=>{function t(){var e=document.querySelector(".havlightbox"),t=e.querySelector(".havlightbox-image-container img"),l=e.querySelector(".havlightbox-caption"),n=e.querySelector(".havlightbox-image-counter");e.classList.remove("open");var o=e.querySelector(".havlightbox-prev-button"),i=e.querySelector(".havlightbox-next-button");o.style.display="none",i.style.display="none",l.innerText="",n.innerText="",setTimeout((()=>{t.src="",e.style.display="none"}),500)}function l(e,t,l){var n=e.querySelector(".havlightbox-prev-button"),o=e.querySelector(".havlightbox-next-button");t.length<2?(n.style.display="none",o.style.display="none"):(n.style.display="block",o.style.display="block")}document.querySelectorAll(".havlightbox-gallery").forEach((e=>{e.querySelectorAll(".havlightbox-thumbnail").forEach((n=>{n.addEventListener("click",(()=>{!function(e,n){if(e){var o=new URL(n,window.location.href).href,i=document.querySelector(".havlightbox"),r=i.querySelector(".havlightbox-image-container"),a=r.querySelector("img"),c=i.querySelector(".havlightbox-caption"),s=i.querySelector(".havlightbox-image-counter"),h=i.querySelector(".havlightbox-thumbnail-selection");if(i&&r&&a&&c&&s&&h){var d=[],u=[],y=0;if(e.querySelectorAll(".havlightbox-thumbnail").forEach((e=>{d.push(new URL(e.dataset.havlightboxImage,window.location.href).href),u.push(e.getAttribute("alt"))})),-1!==(y=d.indexOf(o))){i.style.display="block",a.src=o,c.innerText=u[y],s.innerText=y+1+" / "+d.length,h.innerHTML="",d.forEach(((e,t)=>{var l=document.createElement("img");l.src=e,l.alt=t+1,l.classList.add("havlightbox-thumbnail-selection-item"),t===y&&l.classList.add("selected"),l.addEventListener("click",(()=>{var e=Array.from(l.parentNode.children).indexOf(l);e!==y&&(y=e,document.querySelectorAll(".havlightbox-thumbnail-selection-item").forEach((e=>{e.classList.remove("selected")})),l.classList.add("selected"),a.src=d[y],c.innerText=u[y],s.innerText=y+1+" / "+d.length)})),h.appendChild(l)})),i.addEventListener("click",(e=>{e.target===i&&t()})),setTimeout((()=>{i.classList.add("open")}),50);var v=i.querySelector(".havlightbox-prev-button"),g=i.querySelector(".havlightbox-next-button");v.addEventListener("click",(()=>{--y<0&&(y=d.length-1),a.src=d[y],c.innerText=u[y],s.innerText=y+1+" / "+d.length,document.querySelectorAll(".havlightbox-thumbnail-selection-item").forEach(((e,t)=>{t===y?e.classList.add("selected"):e.classList.remove("selected")})),l(i,d)})),g.addEventListener("click",(()=>{++y>=d.length&&(y=0),a.src=d[y],c.innerText=u[y],s.innerText=y+1+" / "+d.length,document.querySelectorAll(".havlightbox-thumbnail-selection-item").forEach(((e,t)=>{t===y?e.classList.add("selected"):e.classList.remove("selected")})),l(i,d)})),function(e,t){var l=e.querySelector(".havlightbox-image-counter");t.length<2?l.style.display="none":l.style.display="block"}(i,d),function(e,t){var l=e.querySelector(".havlightbox-thumbnail-selection");t.length<2?l.style.display="none":l.style.display="flex"}(i,d),l(i,d)}}}}(e,n.dataset.havlightboxImage)}))}))})),document.addEventListener("keydown",(e=>{"Escape"===e.key&&t()})),document.querySelector(".havlightbox-close").addEventListener("click",t)}));